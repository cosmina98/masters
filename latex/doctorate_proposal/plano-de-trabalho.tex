\documentclass[english,plano-doutorado,twoside]{iiufrgs}

% Definição de Pacotesespecificas
\usepackage[
	pdfauthor={Henrique Becker},
	pdftitle={The Dial-a-Ride Problem: XXXXXXX},
	pdfstartview=FitH
	]{hyperref}           	% Pacote para propriedades do documento.
\usepackage[brazilian]{babel} 	% Pacotes de linguagem.
\usepackage[english]{babel}   	% Pacotes de linguagem.
\usepackage[T1]{fontenc}      	% Pacote para conj. de caracteres correto.
\usepackage[latin1]{inputenc} 	% Pacote para acentuação.
\usepackage{graphicx}         	% Pacote para importar figuras.
\usepackage{color}            	% Pacote para se trabalhar com cor no texto.
\usepackage{times}            	% Pacote para usar fonte Adobe Times.
\usepackage{multirow}	      	% Pacote para utilização de várias linhas em uma tabela.
\usepackage{multicol}	      	% Pacote para utilização de várias colunas em uma tabela.
\usepackage{url}	      	% Pacote para utilização de URLs.
\usepackage{float}
\usepackage{enumerate}
\usepackage{amsmath,amssymb}	% Simbolos matemáticos      	
\usepackage{subeqnarray}	% Formulações
\usepackage{threeparttable} % Tabela com notas de rodapé

% Informações gerais.
\title{The Dial-a-Ride Problem: XXXXXXX}

\author{Becker}{Henrique}

\advisor[Profa.~Dra.]{Buriol}{Luciana Salete}

% TODO: check if there's a coadvisor
%\coadvisor[Prof.~Dr.]{Camponogara}{Eduardo}
\begin{document}

% Folha de Rosto.
\maketitle

% Definir espaçamento entre parágrafos.
\setlength{\parskip}{1.5ex}

% Usar a numeração das seções, sem a necessidade de criação de capítulos.
\renewcommand{\thechapter}{}
\renewcommand{\thesection}{\arabic{section}}

% Deixar uma página em branco após a capa.
~
\newpage
\thispagestyle{empty}

\section{Theme}

LAST THING TO WRITE, GIVE A SUMMARY OF WHAT WILL BE SEEN

\section{Introduction}



\subsection{Problem definition}

MAYBE PUT IMAGE OF THE TIMES




\begin{align}
minimise &\sum_{k \in K}\sum_{i \in V}\sum_{j \in V} c^{k}_{ij} x^{k}_{ij} &\label{eq:objfun}\\
subject~to &\sum_{k \in K}\sum_{j \in V} x^{k}_{ij} = 1 & (i \in P)\label{eq:no_divide}\\
           &\sum_{i \in V}x^{k}_{0i} = \sum_{i \in V}x^{k}_{i,2n+1} = 1 & (k \in K)\label{eq:end_and_begin}\\
           &\sum_{j \in V}x^{k}_{ij} - \sum_{j \in V}x^{k}_{n+1,j} = 0& (i \in P,~k \in K)\label{eq:same_request_same_vehicle}\\
           &\sum_{j \in V}x^{k}_{ji} - \sum_{j \in V}x^{k}_{ij} = 0& (i \in P\cup D,~k \in K)\label{eq:no_bus_teleport}\\
           &u^{k}_{j} \geq (u^{k}_{i} + d_i + t_{ij})x^{k}_{ij} & (i,j \in V,~k\in K)\label{eq:travel_times}\\
           &w^{k}_{j} \geq (w^{k}_{i} + q_j)x^{k}_{ij} & (i,j \in V,~k\in K)\label{eq:capacity}\\
           &r^{k}_{i} \geq u^{k}_{n+i} -(u^{k}_{i} + d_i) & (i \in P,~k\in K)\label{eq:ride_time}\\
           &u^{k}_{2n+1} - u^k_0 \leq T_k & (k \in K)\label{eq:trip_time}\\
           &e_i \leq u^k_i \leq l_i & (i \in V,~k\in K)\label{eq:time_windows}\\
           &t_{i,n+i} \leq r^k_i \leq L & (i \in P,~k\in K)\label{eq:max_ride_time}\\
           &max\{0,q_i\} \leq w^k_i \leq min\{Q_k, Q_k + q_i\}&(i \in V,~k\in K)\label{eq:capacity2}\\
           &x^{k}_{ij} \in \{0,1\}&(i,j \in V,~k\in K)\label{eq:boolean}
\end{align}

In this formulation, \(n\) is the number of requests (each request is a pair of a pickup and a delivery). If there's a pickup point \(i\); then the respective delivery point is \(i + n\) (i.e. each request is in the form \((i, i + n)\)). We have four location/point sets: \(P = \{1, \dots, n\}\) (the pickup points); \(D = \{n+1, \dots, 2n\}\) (the delivery points); the depot (points \(0\) and \(2n + 1\)); and \(V = \{0, \dots, 2n + 1\} \equiv P \cup D \cup \{0, 2n + 1\}\) (the universe set, i.e. all points). The depot is represented by two points only to simplify the model; it's expected to be the same point on space; the only difference is that we enforce each vehicle trip to start from \(0\) and end in \(2n+1\). We also have a vehicle set \(K\), as this a multi-vehicle variant; and we can distinguish between the capacity of each vehicle \(k \in K\) as \(Q_k\), (this is a heterogeneous fleet variant).

The remaining data given with the problem are: \(c^k_{ij}\) the cost of going from \(i\) to \(j\) with vehicle \(k\) (a byproduct of the distance and the vehicle model); \(t_{ij}\) is the time needed by any vehicle to go from point \(i\) to point \(j\) (we assume all vehicles travel at similar speed); \(d_i\) is the time needed to service (embark and disembark) the people at point \(i\) (this parameter can vary as some patients can have mobility problems and therefore need help from the driver); \(e_i\) and \(l_i\) define a time window for each point \(i\), a vehicle has to \emph{start} servicing point \(i\) after \(e_i\) and before \(l_i\) (but the vehicle don't need to finish attending the point inside the time window); \(q_i\) will be the amount of people that will embark (\(q_i\) is positive and \(i \in P\)) or disembark (\(q_i\) is negative and \(i \in D\)) at a point \(i\) (we expect \(q_i + q_{n+i}\) to be zero). Finally, \(T_k\) is the max trip time of a given vehicle \(k\), and \(L\) is the max ride time of any passenger.

The solution variable is \(x^k_{ij}\) \((k \in K,~i,j \in V)\). If the vehicle \(k\) goes from the point \(i\) to point \(j\) then \(x^k_{ij} = 1\); otherwise \(x^k_{ij} = 0\).

The following variables are used to model some of the constraints: \(u^k_j\) will be the time vehicle \(k\) begins to attend point \(j\); \(w^k_j\) will be the number of people inside vehicle \(k\) when it \emph{departs} from point \(j\) (i.e. after loading); \(r^k_i\) will be the time amount the passenger of pickup request \(i\) remained inside the vehicle \(k\) (his or her total ride time; from \(i\) to \(i + n\)).

The objective function \eqref{eq:objfun} is the minimization of the total cost of all trips. Constraints \eqref{eq:no_divide}, \eqref{eq:end_and_begin}, \eqref{eq:same_request_same_vehicle}, and \eqref{eq:no_bus_teleport} are flux constraints, where: \eqref{eq:no_divide} avoids that more than one vehicle visits the same point or that one vehicle leave a point by more than one single way; \eqref{eq:end_and_begin} guarantee vehicles start and end at the depot; \eqref{eq:same_request_same_vehicle} enforce that for the same request, the same vehicle will be used; \eqref{eq:no_bus_teleport} secure that a bus that arrived at point \(i\) will leave point \(i\) (at some moment). The times to start embark/disembark at each point are kept realistic by constraint \eqref{eq:travel_times}. Constraint \eqref{eq:capacity} guarantee a lower bound on the used capacity of each vehicle. The ride time of the passengers that embarked at \(i\) is defined by \eqref{eq:ride_time} (based on their embark/disembark times). The max duration of each vehicle trip is enforced by \eqref{eq:trip_time}. The time windows are respected because of constraint \eqref{eq:time_windows}; as the max ride is respected because of \eqref{eq:max_ride_time}. The constraint \eqref{eq:capacity2} helps constraint \eqref{eq:capacity} to guarantee that the vehicles capacity will not be exceeded. At least, but no less important, constraint \eqref{eq:boolean} defines that a vehicle can either use or not use a route (it can't partially use a route).

It's interesting to note that this formulation gives a maximum ride time for each passenger, even in the presence of time windows. This is a little redundant as time windows already enforce a max ride time specific for each passenger (and therefore much more reasonable than a fixed max time ride for all passengers).

\subsection{Literature review}


\section{Motivation}

THIS IS THE DOCTORATE PROPOSAL MOTIVATION
WORKS PROPOSE DIFFERENT OBJECTIVE FUNCTIONS AND TEST WITH DIFFERENT INSTANCES
FOR A SINGLE PAPER THE EFFORT TO CREATE INTANCES EASILY ADAPTABLE FOR MANY VARIANTS; TO COMPARE MORE GENERIC METHODS TO MORE SPECIFIC ONES (heterogenuous fleet vs homogeneous fleet); TO GATHER INSTANCES ALREADY USED ON LITERATURE ON A TEST BED; AND TO CREATE QUALITY OF SERVICE METRICS THAT CAN BE USED TO COMPARE SOLUTIONS WITH DIFFERENT OBJECTIVE FUNCTIONS; THIS IS IN THE SCOPE OF A DOCTORATE
	CREATE TABLE

\section{Objectives}

The objective to be pursued in the doctorate described by this proposal is: the creation of a framework that allows the comparison of the results of any techniques used to solve the multiple variants of the DARP (for exact and heuristic resolution); avoiding the proliferation of works that use the absence of a established testbed for its variant, or a minor difference on the DARP formulation, to justify absent or lax comparison.

\subsection{Specific Objectives}
\begin{itemize}
    \item Catalogue the most relevant DARP variants.
    \item Obtain or re-implement the codes used by the prior work to solve those variants.
    \item Propose a file format for the instance datasets, one that allows the same instance to be shared by many variants.
    \item Generate the instances used to benchmark the DARP variants (if based on a mathmatic model) on the literature.
    \item Obtain real world instances, already used at some time on the literature, or new.
    \item Make available all code and instances (on the proposed format).
    \item Gather and/or propose quality of service metrics to allow comparison between formulations with different objective functions.
    \item Benchmark the most relevant relevant exact/approximative/heuristic methods; and publish the results using the proposed quality metrics for comparison; to give a more clear notion of the state-of-the-art.
    \item If adequate, propose new methods for solving DARP to fill any gaps (or not much explored) techniques (as math-heuristics) and/or problem variants.
\end{itemize}

\section{Work Plan}

\subsection{Methods}

\begin{itemize}
\item \textbf{Bibliographical research}: I intend to do a thoroughly literature review. The relevant articles will be discovered by means of Google Scholar and following selected articles references. The institute library and the Capes' Portal will not be excluded from this process. I will enroll on any courses offered by the doctorate program that can help to understand the problem and its solving methods.
\item \textbf{Real-world instances}: The research group of Dr. Buriol already has partnership with one vehicle routing company and one of her PhD students is working in scheduling problems within a hospital (hospital's DARPs are the source from the majority of the literature instances). While on the doctorate, I intend to make use of this to obtain new real world instances; and to verify if the academy can contribute back to the community on this topic (suggest the most adequate method for the hospital use; maybe write a case study paper).
\item \textbf{Implementation and tests}: The Optimization and Algorithms group have servers that can be used to run the proposed benchmarks (that can take hours/days/weeks of CPU time). Any code that needs to be implemented, will be written in C++14 (or higher) and put on public domain. My experience with exact methods over NP-hard problems (master's topic), the algorithms and optimizations classes thta I attended on master's, and the research group expertise on heuristic methods (over NP-hard problems) will contribute to the completion of the proposed doctoral work.
\item \textbf{Publishing}: The work will be published in conferences and journals relevant to the area, as described by in table \ref{tab:periodicosEconferencias}. If the chosen journals/conferences aren't open access; they will at least allow for for reusing the same content inside the PhD thesis, that will be open access and supersede any publications during doctorate.
\end{itemize}

\subsection{Classes}\label{disciplinas}

The UFRGS's PhD program request from its students to take at least 18 credits, among other tests and activities, with the possibility of reusing the ones from master's. I plan to reuse the twelve credits from my master's (see table \ref{tab:AtividadesDot1}) and complete the requisites with the following classes/activities (see table \ref{tab:AtividadesDot2}). I can enroll in more classes if they show themselves relevant to the doctorate's theme (this will be reevaluated each semester).

\begin{table}[H]
	\centering
	\normalsize
	\caption{Classes taken at the master's} \medskip
	\begin{tabular}{|c|l|c|c|c|}
	\hline
        Identifier & Class Name & Semester & Credits & Grade\\
	\hline\hline
        CMP568 & Tópicos DLXVIII - Otimização & 2015/1 & 2 & B \\
        CMP269 & Recuperação de Informações & 2015/1 & 4 & A \\
        CMP601 & Algorithms and Theory of Computation & 2015/1 & 4 & A \\
	- & Proficiência em Língua Estrangeira (Inglês) & 2015/1 & - & A \\
	CMP410 & Teaching Practice I & 2015/2 & 1 & - \\
        CMP301 & Projeto de Pesquisa I & 2016/1 & 2 & A \\
        CMP800 & Dissertação de mestrado & 2016/2 & - & - \\
	\hline
	\end{tabular}
	\label{tab:AtividadesDot1}
\end{table}

% TODO: verificar c/ Buriol qual o nome da matéria do Ritt que se tentará cursar
\begin{table}[H]
	\centering
	\caption{Classes to be taken at the doctorate} \medskip
	\begin{tabular}{|c|l|c|c|}
	\hline
        Identifier & Class Name & Semester & Credits\\
	\hline\hline
        CMP402 & Trabalho Individual II & 2017/1 & 2 \\
	CMP588 & Tópicos DLXXXVIII: Algoritmos avançados & 2017/1 & 4 \\
	- & Proficiência em Língua Estrangeira (Espanhol) & 2017/1 & - \\
        CMP410 & Teaching Practice II & 2017/2 & 2 \\        
        CMP700 & Thesis Proposal (Doctorate) & 2019/1 & - \\              
        CMP900 & PhD Thesis & 2020/2 & - \\
	\hline
	\end{tabular}
	\label{tab:AtividadesDot2}
\end{table}

\subsection{Classes and Activities Schedule}

The schedule below presents a first planning of the doctorate. This plan was made taking in account the following premises: 1) there's a PhD scholarship that begins at october of 2016, and this proposal is competing to receive it; 2) the author of this proposal will be allowed to finish his master's (using the the rest of 2016) to avoid losing the title and to allow the publication of results about his master's topic that are more recent than his last paper published. If this is not true, the semester of 2016/2 can be disregarded; the author will begin doctorate at 2017/1 and conclude it in seven semesters, using the eight semester only as a failsafe measure.

\begin{enumerate}\parskip0pt \parsep0pt \itemsep2pt 
%1
    \item All activities related to master's conclusion; % 1
%2
    \item Classes to obtain last credits needed; % 2
%3
    \item Study for the qualification exam; % 2, 3
%4
    \item Bibliographical research on the DARP and Pickup-and-Delivery VRPs; % 2, 3, 4
%5
    \item Study of the exact and heuristic techniques used to solve DARP; % 2, 3, 4, 5, 6
%6
    \item Contact with authors of selected works to ask for code and data; % 3, 4
%7
    \item Defense of the thesis proposal; % 4
%8
    \item Implementation of own ideas to fill gaps on DARP literature (techniques used and variants explored); % 4, 5, 6, 7
%9 
    \item Execution of benchmarks; % 4, 5, 6, 7
%10
    \item Construction of the comparison framework; % 4, 5, 6, 7
%11
    \item Implementation of solving methods whose code was not provided; % 5, 6
%12
    \item Implementation of instance generators whose code or data was not provided. %5, 6
%13
    \item International cooperation by means of a sandwich doctorate; % 5, 6
%14
    \item Results analysis. % 7
%15
    \item Thesis writing and defense; % 8
%16
\end{enumerate}
\newcommand{\X}{\textbullet}
\begin{table}[H]
	\centering
	\caption{Schedule of the doctorate activities}\medskip
	\scalebox{0.87}{
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|c|}
		\hline
		&2016/2 & 2017/1 & 2017/2 & 2018/1 & 2018/2 & 2019/1 & 2019/2 & 2020/1 \\
		\hline \hline
		1&\X&&&&&&&\\ \hline
		2&&\X&&&&&&\\ \hline
		3&&\X&\X&&&&&\\ \hline
		4&&\X&\X&\X&&&&\\ \hline
		5&&\X&\X&\X&\X&\X&&\\ \hline
		6&&&\X&\X&&&&\\ \hline
		7&&&&\X&&&&\\ \hline
		8&&&&\X&\X&\X&\X&\\ \hline
		9&&&&\X&\X&\X&\X&\\ \hline
		10&&&&\X&\X&\X&\X&\\ \hline
		11&&&&&\X&\X&&\\ \hline
		12&&&&&\X&\X&&\\ \hline
		13&&&&&\X&\X&&\\ \hline
		14&&&&&&&\X&\\ \hline
		15&&&&&&&&\X\\ \hline
	\end{tabular}
    }
\end{table}

\section{Journals and conferences}

Table \ref{tab:periodicosEconferencias} presents journals and conferences that publish works related to this doctorate proposal theme and are regarded as relevant by many criteria.

\begin{table}
	\centering
	\caption{Relevant Journals and Conferences}\medskip
	\begin{threeparttable}[b]
	\begin{tabular}{p{0.6\textwidth}|c|c|c}
	\hline
	Journal & Qualis \tnote{1} & H-Index\tnote{2} & F. I. \tnote{3}\\
	\hline \hline
        European Journal of Operational Researsch & A1 & 165 & 2.358 \\
        Computers \& Operations Research & A1 & 93 & 1.861\\
        Annals of Operations Research & A2 & 70 & 1.217 \\
	Journal of the Operational Research Society & A2 & 69 & 953\\        
	Journal of Heuristics & B1 & 46 & 1.145\\
        Mathematical Methods of Operations Research & B1 & 31 & 625\\
        International Transactions in Operational Research & B2 & 8 & 977\\
        Transportation Science & B3 & 71 & 3.043\\
	\hline \hline
        Conferências & Qualis\tnote{4} & \multicolumn{2}{c}{H-Index\tnote{5}} \\
    	\hline \hline
	International Conference on Automated Planning and Scheduling - ICAPS & A2 & \multicolumn{2}{c}{43} \\
	Symposium on Experimental Algorithms - SEA & B1 & \multicolumn{2}{c}{26} \\
	Conference on Integer Programming and Combinatorial Optimization - IPCO & B1 & \multicolumn{2}{c}{26} \\
	Metaheuristic International Conference - MIC & B3 & \multicolumn{2}{c}{13} \\		
	International Conference on Operations Research (Abstract) - OR  & B4 & \multicolumn{2}{c}{5} \\
	European Conference on Operational Research (Abstract) - EURO & B4 & \multicolumn{2}{c}{4} \\
        Simpósio Brasileiro de Pesquisa Operacional - SBPO & B4 & \multicolumn{2}{c}{8} \\
        Multidisciplinary International Scheduling Conference: Theory and Applications - MISTA & B5 & \multicolumn{2}{c}{3} \\            
	\end{tabular}
	\label{tab:periodicosEconferencias}
	\begin{tablenotes}
	  \item[1]{{\footnotesize Fonte: Qualis 2014 - \url{http://qualis.capes.gov.br/} }}	  
	  \item[2]{{\footnotesize Fonte: \url{http://www.scimagojr.com/} }}	  
	  \item[3]{{\footnotesize Fonte: Site dos periódicos.}}	  
	  \item[4]{{\footnotesize Fonte: \url{http://www.inf.ufrgs.br/ppgc/docAreaConferencias/}}}	  
	  \item[5]{{\footnotesize Fonte: \url{http://shine.icomp.ufam.edu.br/} - 2001 até 2012.}}	  
	\end{tablenotes}
	\end{threeparttable}
\end{table}

\section{Research Groups}

This section presents some reasearch groups that work with optimization problems related to DARP, or more generally VRP and PDVRP.

\begin{itemize}
\item \textbf{Portuguese group name:} description.
\item \textbf{Portuguese group name:} description.
\item \textbf{Portuguese group name:} description.
\item \textbf{\textit{ENGLISH NAME:}} description. 
\end{itemize}

\iffalse 
% Put links here to ease of access
\fi

\section{International Conference}

In this section are presented some suggested universities for the sandwish doctorate.

\begin{itemize}
\item Carnegie Mellon University - Pittsburgh, PA - Estados Unidos: Classificada como a 22ª melhor universidade no ranking mundial de 2015-16 segundo a \textit{Times Higher Education of London - THE} \footnote{\url{https://www.timeshighereducation.com/}}, ela possui um grupo de Pesquisa Operacional ligado à \textit{Tepper School of Business} com estudos em programação inteira e otimização combinatória, focados em abranger tanto teoria quanto prática. Um de seus professores, Michael A. Tricker, trabalha com \textit{scheduling}, onde foi consultor do Serviço Postal dos Estados Unidos na elaboração da cadeia de fornecimento. Além disso ele é \textit{fellow} do IFORS, organização internacional com interesse em Pesquisa Operacional, sendo eleito presidente da entidade para o período de 2016 a 2019. Ainda vale destacar que o professor Eduardo Camponogara irá realizar um ano sabático nessa universidade no período 2016-2017.
\item University of Montreal, QC - Canadá:

 possuindo o centro de pesquisa denominado \textit{Centre interuniversitaire de recherche sur les reseaux d'entreprise, la logistique et le transport} (CIRRELT). Ele é um centro interdisciplinar de referência internacional com foco em pesquisas para criação, gerência, operação e segurança em logística e infra-estrutura de redes. Um de seus principais temas de pesquisa refere-se a gerência de redes de fornecimento em nível tático, incluindo transportes marítimos e gerência de terminais. Dentre seus membros o qual poderiam ser possíveis orientadores durante o período de doutorado sanduíche podem ser citados Gilbert Laporte e Michel Gendreau. Gilbert é professor titular do departamento de Ciências da Decisão e possui trabalhos recentes utilizando métodos exatos para resolução de problemas de coleta e entrega. Já Michel é professor do Departamento de Matemática e Engenharia Industrial, com trabalhos em problemas de escalonamento envolvendo logística. 
\iffalse
https://admission.umontreal.ca/en/student-info/costs-financing-scholarships/scholarships-and-funding/
https://admission.umontreal.ca/en/foreign-students/
\fi
\end{itemize}

\bibliographystyle{alpha}
%\nocite{*}
\bibliography{bibliografia}
\iffalse
% Seção: Assinaturas
\newpage
\thispagestyle{empty}
\chapter*{ASSINATURAS}

\begin{center}
\large{\textbf{The Dial-a-Ride Problem: XXXXXXXX}} \\
(Doctorate Work Plan)
\end{center}

\vspace{3cm}

\begin{table}[h]

	\centering
	\begin{tabular}{c}
	
		\\ \\ \\ \\ \\

		\hline
		Henrique Becker \\
		
		\\ \\ \\ \\ \\ \\ \\

		\hline
		Profa. Dra. Luciana Salete Buriol \\
		(Advisor) \\

% TODO: CHECK IF THERE'S A COADVISOR
%		\\ \\ \\ \\ \\ \\ \\
%	
%		\hline
%		Prof. Dr. Eduardo Camponogara \\
%		(Co-orientador) \\

	\end{tabular}
	
\end{table}
\fi

\end{document}
