#!/bin/bash

# Tries to create instances similar to the one used on Section 5.1.2
# (SC-UKP) of the article "A hybrid algorithm for the unbounded knapsack
# problem"

# RANDOM SEED ISNT USED BY THIS FORMULA, ALL 20 INSTANCES OF SAME a+n+wmin
# ARE EQUAL, EXCEPT BY THE C

# In the table is said that are 20 instances by line, and are 12 lines,
# then we need 240 capacity values between 100000 and 500000
cs=(469348 338932 385407 286338 110302 390841 439034 109928 486392 365774 304533 434891 335226 167515 164089 339566 486546 122437 306860 123996 404432 425465 246187 302917 285541 374557 379019 177133 236122 320989 237130 212223 190874 104330 245620 489348 200297 331511 175223 114448 416848 290863 131959 358253 431140 179042 180784 449814 143323 347411 147527 427555 107688 216117 423765 289627 209143 181042 351233 458425 290107 217827 231519 188981 291012 254904 402542 372198 368892 394656 169808 235619 215500 212625 408454 174280 276186 132832 271340 138368 116103 175492 292732 330038 189028 459420 126304 204548 454703 467881 397023 309580 443157 278955 207299 477133 317267 368879 191746 414677 113647 270313 358512 424208 342019 290275 450056 269998 466465 181920 254716 392325 316860 155515 190672 438691 107424 405300 345321 397702 401406 407331 195214 483256 278698 136349 255303 355896 458487 485803 473145 211274 485435 126365 165880 363577 139261 434037 200157 488900 396654 498902 302464 109705 134457 267626 185030 105295 195149 329368 358669 448219 130590 193658 344273 307383 159075 106020 329508 499529 238296 451730 263074 383395 205313 254952 220969 174298 432693 420652 325904 325554 464551 252272 200126 161457 345832 395025 471517 207501 491503 136070 103967 417972 494073 158589 475515 291407 117269 105006 298020 195533 440469 185427 425021 164272 346784 271324 311783 398229 142695 392064 125797 146431 480554 449846 406123 437749 313448 174903 330487 399427 292439 142175 192846 268381 470172 211057 155424 310421 467336 350538 359948 381355 246183 167807 323898 242136 360118 439823 462686 198303 251971 341327 209781 151709 128359 175486 394085 269076)
wmins_1=(10000 15000 50000)
wmins_2=(10000 50000 110000)
ns=(5000 10000)
alphas=(-5 5)

counter=0
for alpha in ${alphas[@]}; do
	for n in ${ns[@]}; do
		if (($n == 5000)); then
			for wmin in ${wmins_1[@]}; do
				for i in `seq 0 19`; do
					pyasukp -nosolve -form chung -save "a${alpha}n${n}wmin${wmin}-${i}-c${cs[$counter]}" -step $alpha -n $n -wmin $wmin -cap ${cs[$counter]}
					counter=$counter+1
				done
			done
		fi
		if (($n == 10000)); then
			for wmin in ${wmins_2[@]}; do
				for i in `seq 0 19`; do
					pyasukp -nosolve -form chung -save "a${alpha}n${n}wmin${wmin}-${i}-c${cs[$counter]}" -step $alpha -n $n -wmin $wmin -cap ${cs[$counter]}
					counter=$counter+1
				done
			done
		fi
	done
done

